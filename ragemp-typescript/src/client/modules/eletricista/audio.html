<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SFX Eletricista ()</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      background: transparent;
      font-family: sans-serif;
      color: lime;
      font-size: 14px;
    }
    #status {
      position: absolute;
      top: 10px;
      left: 10px;
      background: rgba(0,0,0,0.6);
      padding: 8px 10px;
      border-radius: 4px;
    }
  </style>
</head>
<body>
  <div id="status">[SFX ] Aguardando comandos‚Ä¶</div>

  <audio id="sfx" src="https://cdn300.savetube.su/download-direct/audio/128/6b8b47ea8ad6b3f01eb96f4b6bd4f5b8eadd4b25" loop></audio>

  <script>
    const sfx = document.getElementById("sfx");
    const status = document.getElementById("status");
    let fadeInterval = null;

    console.log("[SFX  HTML] Script carregado. Elemento de √°udio:", sfx);

    if (sfx) {
      sfx.onerror = (e) => {
        status.innerText = `[SFX ] ‚ö†Ô∏è Erro no elemento audio: ${sfx.error?.message || 'Erro desconhecido'}`;
        console.error("[SFX HTML] Erro no elemento <audio>: ", sfx.error, e);
      };
      sfx.onloadeddata = () => console.log("[SFX  HTML] Dados do √°udio carregados.");
      sfx.oncanplaythrough = () => console.log("[SFX  HTML] √Åudio pronto para tocar.");
    } else {
      console.error("[SFX HTML] Elemento <audio> n√£o encontrado!");
    }

    window.playSpark = () => {
      console.log("[SFX HTML] Fun√ß√£o playSpark() chamada.");
      if (!sfx) return;

      clearInterval(fadeInterval);
      sfx.volume = 0;
      sfx.currentTime = 0;
      sfx.play().then(() => {
        status.innerText = "[ SFX ] üîä Tocando...";
        console.log("[SFX HTML] üîä √Åudio iniciado com sucesso.");

        let volume = 0;
        fadeInterval = setInterval(() => {
          if (volume < 1) {
            volume = Math.min(1, volume + 0.05);
            sfx.volume = volume;
          } else {
            clearInterval(fadeInterval);
          }
        }, 100);

      }).catch(err => {
        status.innerText = `[ SFX ] ‚ö†Ô∏è Erro no play(): ${err.message}`;
        console.error("[SFX HTML] Erro ao tentar sfx.play():", err);
      });
    };

    window.stopSpark = () => {
      console.log("[SFX HTML] Fun√ß√£o stopSpark() chamada.");
      if (!sfx) return;

      clearInterval(fadeInterval);
      let volume = sfx.volume;

      fadeInterval = setInterval(() => {
        if (volume > 0) {
          volume = Math.max(0, volume - 0.05);
          sfx.volume = volume;
        } else {
          sfx.pause();
          sfx.currentTime = 0;
          status.innerText = "[ SFX ] üîá Parado";
          console.log("[SFX HTML] üîá √Åudio parado.");
          clearInterval(fadeInterval);
        }
      }, 100);
    };

    console.log("[SFX HTML] Fun√ß√µes playSpark e stopSpark definidas.");
  </script>
</body>
</html>
